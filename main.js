(()=>{"use strict";function t(t,e){const s=[];let i;const n=(t,i)=>{s.forEach((e=>e(t,i))),e&&e()};return{subscribe:t=>{s.push(t)},unsubscribe:t=>{if(t){const e=s.findIndex((e=>e===t));e>=0&&s.splice(e,1)}},clearSubscribers:()=>{s=[]},fireEvent:(e,s)=>{if(t&&!isNaN(t)&&t>0)return i&&clearTimeout(i),void(i=setTimeout((()=>{n()}),t));n(e,s)}}}function e(t,e,s,i=!1,n=null){let a;const o=()=>{s(t,e,a)};return{propertyName:e,setValue:t=>{let e=t;t&&"function"==typeof t&&(e=t(a));let s=(n||(()=>a!==e))(a,e);a=e,(s||i)&&o()},setValueSilent:t=>{a=t},getValue:()=>a,fireChanged:o}}function s(s,i){const n=function(e,s){const i=t(void 0,void 0);return{subscribe:i.subscribe,unsubscribe:i.unsubscribe,clearSubscribers:i.clearSubscribers,fireEvent:(t,e,s)=>{const n={property:e,value:s};i.fireEvent(t,n)}}}(),a=function(){const t=(t,s,i,n)=>{const a=n?"[object String]"===Object.prototype.toString.call(n)?(t,e)=>(t=>!t||!i||i===t)(t)&&(t=>!n||"__any__"===n||n===t)(e):n:()=>!0;t(e(s,a))},e=(t,e)=>(s,i,n)=>{e(s,i)&&t(s,i,n)};return{listen:t,listenOwnersAnyProperty:(e,s,i)=>{t(e,s,i)},listenProperty:(e,s,i)=>{t(e,s,null,i)},listenAnyProperty:(e,s)=>{t(e,s,null,null)}}}(),o=[],r=t(i,(()=>{o.forEach((t=>t.changed=!1))})),c=(t,e)=>{const s=h(t);s&&s.property.setValue(e)},d=t=>{let e=null;const s=h(t);return s&&(e=s.property.getValue()),e},h=t=>o.find((e=>e.stateName===t)),l=(t,e)=>{const i=h(e);i&&(i.changed=!0),r.fireEvent(s,o.filter((t=>t.changed)))};return{states:o,stateChangedEvent:r.subscribe,createState:(t,i=!1,r=null)=>{const h={changed:!1,stateName:t,property:e(s,t,n.fireEvent,i,r),getState:d.bind(null,t),setState:c.bind(null,t)};return a.listenAnyProperty(n.subscribe,l),o.push(h),h},setState:c,getState:d}}document.body;class i{constructor(t){if(this.update=!1,this.propStates=[],this.stateBinds=[],this.states=s(this,50),this.changedStates=[],this.states.stateChangedEvent(this._stateChangedHandler.bind(this)),t){const e=()=>{for(const e in t){const s=t[e];this[`${e}PropState`]=this.createState(`props.${e}`,s,!0),this.ps[e]=this[`${e}PropState`]}},s={get:(t,e,s)=>this.getPropValue(e),set:(t,e,s)=>(this.setPropValue(e,s),!0)};this.ps={},this.props=new Proxy(Object.assign({},t),s),e()}if(!this.initNode)throw new Error("'initNode' method could not be found!");if(this.initNode(),!this.node)throw new Error("'node' property can not be null!");this.initStates()}setPropValue(t,e){this.states.setState(`props.${t}`,e)}getPropValue(t){return this.states.getState(`props.${t}`)}initStates(){}createState(t,e,s=!1,i=null){const n=this.states.createState(t,s,i);return n.property.setValueSilent(e),n}bindToState(t,e){this.stateBinds.push({state:t,fn:e})}reflectStates(){!this.update||!this.changedStates||this.changedStates.length<=0?this.stateBinds.forEach((t=>t.fn(t.state,t.state.getState))):(this.changedStates.forEach((t=>{const e=this.stateBinds.find((e=>e===t||e.stateName===t.stateName));e&&e.fn(e.state,e.state.getState)})),this.changedStates=[])}reflectToElements(){this.reflectStates()}render(){return this.reflectToElements(),this.update=!0,this.node}remove(){this.node.remove()}_stateChangedHandler(t,e){this.changedStates=e,this.render()}}class n extends i{constructor({phone:t,address:e}){super({phone:t,address:e})}initNode(){this.node=document.createElement("div"),this.node.classList.add("contact"),this.phoneEl=document.createElement("p"),this.phoneEl.classList.add("contact-phone"),this.addressEl=document.createElement("p"),this.addressEl.classList.add("contact-address"),this.node.append(this.phoneEl,this.addressEl)}initStates(){this.bindToState(this.ps.phone,((t,e)=>{this.phoneEl.textContent="Phone: "+e()})),this.bindToState(this.ps.address,((t,e)=>{this.addressEl.textContent="Address: "+e()}))}}class a extends i{constructor({title:t,description:e}){super({title:t,description:e})}initNode(){this.node=document.createElement("div"),this.node.classList.add("home"),this.titleEl=document.createElement("h1"),this.titleEl.classList.add("home-title"),this.descEl=document.createElement("p"),this.descEl.classList.add("home-desc"),this.node.append(this.titleEl,this.descEl)}initStates(){this.bindToState(this.ps.title,((t,e)=>{this.titleEl.textContent=e()})),this.bindToState(this.ps.description,((t,e)=>{this.descEl.textContent=e()}))}}class o extends i{constructor({title:t,description:e,price:s,image:i}){super({title:t,description:e,price:s,image:i})}initNode(){this.node=document.createElement("li"),this.node.classList.add("prod-item"),this.imgEl=document.createElement("img"),this.imgEl.classList.add("prod-item-img"),this.headerEl=document.createElement("div"),this.headerEl.classList.add("prod-item-header"),this.header_titleEl=document.createElement("h1"),this.header_titleEl.classList.add("prod-item-header_title"),this.header_priceEl=document.createElement("h1"),this.header_priceEl.classList.add("prod-item-header_price"),this.headerEl.append(this.header_titleEl,this.header_priceEl),this.descriptionEl=document.createElement("p"),this.descriptionEl.classList.add("prod-item-desc"),this.node.append(this.imgEl,this.headerEl,this.descriptionEl)}initStates(){this.bindToState(this.ps.image,((t,e)=>{this.imgEl.setAttribute("src",e())})),this.bindToState(this.ps.title,((t,e)=>{this.header_titleEl.textContent=e()})),this.bindToState(this.ps.price,((t,e)=>{this.header_priceEl.textContent="$"+e()})),this.bindToState(this.ps.description,((t,e)=>{this.descriptionEl.textContent=e()}))}}class r extends i{constructor({category:t,products:e}){super({category:t,products:e})}initNode(){this.node=document.createElement("li"),this.node.classList.add("prod-item-container"),this.headerEl=document.createElement("h1"),this.headerEl.classList.add("prod-item-container_category"),this.productItemsEl=document.createElement("ul"),this.productItemsEl.classList.add("prod-item-container_items"),this.node.append(this.headerEl,this.productItemsEl)}initStates(){this.bindToState(this.ps.category,((t,e)=>{this.headerEl.textContent=e()})),this.bindToState(this.ps.products,((t,e)=>{this.productItemsEl.innerHTML="";const s=e();for(const t of s){const e=new o(t);this.productItemsEl.append(e.render())}}))}}class c extends i{constructor({categoriedProducts:t}){super({categoriedProducts:t})}initNode(){this.node=document.createElement("div"),this.node.classList.add("menu"),this.titleEl=document.createElement("h1"),this.titleEl.classList.add("menu-header"),this.titleEl.textContent="Menu",this.contentEl=document.createElement("ul"),this.contentEl.classList.add("menu-prods"),this.node.append(this.titleEl,this.contentEl)}initStates(){this.bindToState(this.ps.categoriedProducts,((t,e)=>{const s=e();this.contentEl.innerHTML="";for(const t of s){const e=new r(t);this.contentEl.append(e.render())}}))}}class d extends i{constructor({text:e,active:s}){super({text:e,active:s}),this.clickedEvent=t()}initNode(){this.node=document.createElement("li"),this.node.classList.add("tab-item"),this.buttonEl=document.createElement("button"),this.buttonEl.addEventListener("click",(t=>{this.clickedEvent.fireEvent(this,{event:t})})),this.buttonEl.addEventListener("click",(()=>{this.countState.setState((t=>++t))})),this.node.appendChild(this.buttonEl)}initStates(){this.bindToState(this.ps.text,((t,e)=>{this.buttonEl.textContent=e()})),this.bindToState(this.activePropState,((t,e)=>{e()?this.node.classList.add("active"):this.node.classList.remove("active")}))}}class h extends i{constructor({title:e,tabs:s}){super({title:e,tabs:s}),this._tabContentPair=[],this.activeContentChanged=t()}initNode(){this.node=document.createElement("div"),this.node.classList.add("tab-container"),this.titleEl=document.createElement("h1"),this.titleEl.classList.add("brand"),this.tabContainerEl=document.createElement("ul"),this.tabContainerEl.classList.add("tab-items"),this.node.append(this.titleEl,this.tabContainerEl)}initStates(){this.bindToState(this.titlePropState,((t,e)=>{this.titleEl.textContent=e()})),this.bindToState(this.tabsPropState,((t,e)=>{this._createTabItems(e()),this.tabContainerEl.innerHTML="",this._tabContentPair.forEach((t=>{this.tabContainerEl.appendChild(t.tab.node),t.tab.render()}))}))}_createTabItems(t){t.forEach((t=>{const e=new d({text:t.title,active:t.active});e.clickedEvent.subscribe(this._tabClickedHandler.bind(this)),this._tabContentPair.push({tab:e,content:t.content})}))}_tabClickedHandler(t,e){this._tabContentPair.forEach((t=>t.tab.props.active=!1));const{tab:s,content:i}=this._tabContentPair.find((e=>e.tab===t));s.props.active=!0,this.activeContentChanged.fireEvent(this,{content:i})}}console.log("Script woqwerks"),document.getElementById("content").appendChild((new class extends i{constructor(){super()}initNode(){this.node=document.createElement("div"),this.node.classList.add("page"),this.headerEl=document.createElement("header"),this.mainEl=document.createElement("main"),this.mainEl.classList.add("main-content"),this.footerEl=document.createElement("footer"),this.node.append(this.headerEl,this.mainEl,this.footerEl),this.brand="Unreal Burger Crafting",this._initContents(),this._initHeader(),this._initFooter()}initStates(){this.activeContentState=this.createState("activeContent",this.homeContent,!0),this.bindToState(this.activeContentState,((t,e)=>{let s=e();s.render&&(s=s.render()),this.mainEl.innerHTML="",this.mainEl.appendChild(s)}))}_initContents(){this.homeContent=new a({title:this.brand,description:"We craft burgers. Nothing special..."});const t="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam eget euismod turpis. Quisque cursus ipsum eu ex imperdiet, non blandit urna accumsan.",e=[{category:"Burgers",products:[{title:"Chicken (Grilled or Fried)",description:t,price:20,image:"https://picsum.photos/200"},{title:"Black Bean Veggie Burger",description:t,price:10,image:"https://picsum.photos/200"},{title:"Cheese and Bacon Burger",description:t,price:15,image:"https://picsum.photos/200"},{title:"Ham and Chicken Burger",description:t,price:25,image:"https://picsum.photos/200"}]},{category:"Toppings",products:[{title:"Beef Bacon",description:t,price:20,image:"https://picsum.photos/200"},{title:"Fresh Avocado",description:t,price:10,image:"https://picsum.photos/200"},{title:"Cheese",description:t,price:15,image:"https://picsum.photos/200"}]},{category:"Fries & Rings",products:[{title:"French Fries",description:t,price:25,image:"https://picsum.photos/200"},{title:"Mooyah Fries",description:t,price:15,image:"https://picsum.photos/200"},{title:"Onion Rings",description:t,price:10,image:"https://picsum.photos/200"},{title:"Sweet Potato Fries",description:t,price:20,image:"https://picsum.photos/200"}]},{category:"Drinks",products:[{title:"Beer",description:t,price:25,image:"https://picsum.photos/200"},{title:"Fruit Juice",description:t,price:15,image:"https://picsum.photos/200"}]}];this.menuContent=new c({categoriedProducts:e}),this.contactContent=new n({phone:"111 222 333",address:"This website"})}_initHeader(){const t=[{title:"Home",active:!0,content:this.homeContent},{title:"Menu",active:!1,content:this.menuContent},{title:"Contact",active:!1,content:this.contactContent}],e=new h({title:this.brand,tabs:t});e.activeContentChanged.subscribe(((t,{content:e})=>this.activeContentState.setState(e))),this.headerEl.appendChild(e.render())}_initFooter(){this.footerEl.innerHTML='\n    <a href="https://www.pinterest.com/pin/basic-burger-menu-template-illustrator-indesign-word-apple-pages-psd-publisher--698480223449936211/" target="_blank">Menu - Pinterest</a>\n    <a href="https://www.theodinproject.com/lessons/node-path-javascript-restaurant-page" target="_blank">Restaurant Page for Odin Project</a>\n    <a href="https://picsum.photos/" target="_blank">Images - Lorem Picsum</a>\n    '}}).render())})();